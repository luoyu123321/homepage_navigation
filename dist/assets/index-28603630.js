import{c as U,r as m,R as a,B as D,s as f,P as e,a as w,b as X,d as K,T as J,e as q,f as z,i as Q,g as W,_ as ee,h as te,j as ne,n as H,k as B,w as re,l as se,I as Z,m as x,F as oe,o as y,p as ae}from"./index-8603eff9.js";import{F as T,I as ie}from"./index-366f5143.js";function le(s){return m.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),m.createElement("path",{d:"M7 12C7 13.3807 5.88071 14.5 4.5 14.5C3.11929 14.5 2 13.3807 2 12C2 10.6193 3.11929 9.5 4.5 9.5C5.88071 9.5 7 10.6193 7 12Z",fill:"currentColor"}),m.createElement("path",{d:"M14.5 12C14.5 13.3807 13.3807 14.5 12 14.5C10.6193 14.5 9.5 13.3807 9.5 12C9.5 10.6193 10.6193 9.5 12 9.5C13.3807 9.5 14.5 10.6193 14.5 12Z",fill:"currentColor"}),m.createElement("path",{d:"M19.5 14.5C20.8807 14.5 22 13.3807 22 12C22 10.6193 20.8807 9.5 19.5 9.5C18.1193 9.5 17 10.6193 17 12C17 13.3807 18.1193 14.5 19.5 14.5Z",fill:"currentColor"}))}const ce=U(le,"more"),A=ce;var pe=globalThis&&globalThis.__rest||function(s,n){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&n.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(t[r[o]]=s[r[o]]);return t};class L extends m.PureComponent{render(){const n=this.props,{heading:t}=n,r=pe(n,["heading"]),o=f.HEADING.indexOf(t)!==-1?`h${t}`:"h1";return a.createElement(D,Object.assign({component:o,heading:o},r))}}L.propTypes={copyable:e.oneOfType([e.object,e.bool]),delete:e.bool,disabled:e.bool,ellipsis:e.oneOfType([e.object,e.bool]),mark:e.bool,link:e.oneOfType([e.object,e.bool]),underline:e.bool,strong:e.bool,type:e.oneOf(f.TYPE),heading:e.oneOf(f.HEADING),style:e.object,className:e.string,component:e.string,weight:e.oneOfType([e.oneOf(f.WEIGHT),e.number])};L.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",heading:1,style:{},className:""};const de=X.PREFIX;class R extends m.PureComponent{render(){const{className:n}=this.props,t=w(n,`${de}-paragraph`);return a.createElement(D,Object.assign({component:"p"},this.props,{className:t}))}}R.propTypes={copyable:e.oneOfType([e.object,e.bool]),delete:e.bool,disabled:e.bool,ellipsis:e.oneOfType([e.object,e.bool]),mark:e.bool,link:e.oneOfType([e.object,e.bool]),underline:e.bool,strong:e.bool,type:e.oneOf(f.TYPE),size:e.oneOf(f.SIZE),spacing:e.oneOf(f.SPACING),style:e.object,className:e.string,component:e.string};R.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",size:"normal",spacing:"normal",style:{},className:""};class he{constructor(n,t,r,o,c){this.ruleMethods={"bytes-decimal":l=>{const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];let p=0;for(;l>=1e3;)l/=1e3,p++;return`${this.truncatePrecision(l)} ${i[p]}`},"bytes-binary":l=>{const i=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let p=0;for(;l>=1024;)l/=1024,p++;return`${this.truncatePrecision(l)} ${i[p]}`},percentages:l=>`${this.truncatePrecision(l*100)}%`,exponential:l=>{const p=l.toExponential(this.precision+2).split("e");return`${this.truncatePrecision(Number(p[0]))}e${p[1]}`}},this.truncateMethods={ceil:Math.ceil,floor:Math.floor,round:Math.round},this.isDiyParser=typeof c<"u",this.content=n,this.rule=t,this.precision=r,this.truncate=o,this.parser=c}format(){return this.isDiyParser?this.parser(this.content):this.rule==="text"?$(this.content).map(n=>v(n)?this.truncatePrecision(n):n).join(""):this.rule==="numbers"?$(this.content).filter(n=>v(n)).map(n=>this.truncatePrecision(n)).join(","):$(this.content).map(n=>v(n)?this.ruleMethods[this.rule](Number(n)):n).join("")}truncatePrecision(n){const t=this.truncateMethods[this.truncate](Number(n)*Math.pow(10,this.precision))/Math.pow(10,this.precision),r=t.toString().split(".");if(r.length===1)return t.toFixed(this.precision);const o=r[1].length;return o<this.precision?`${r[0]}.${r[1]}${"0".repeat(this.precision-o)}`:t.toString()}}function $(s){const n=/(-?[0-9]*\.?[0-9]+([eE]-?[0-9]+)?)|([^-\d\.]+)/g;return s.match(n)||[]}function v(s){return!(isNaN(Number(s))||s.replace(/\s+/g,"")==="")}class _ extends m.PureComponent{formatNodeDFS(n){return Array.isArray(n)||(n=[n]),n=n.map(t=>typeof t=="string"||typeof t=="number"?new he(String(t),this.props.rule,this.props.precision,this.props.truncate,this.props.parser).format():typeof t=="function"?this.formatNodeDFS(t()):typeof t=="object"&&"children"in t.props?Object.assign(Object.assign({},t),{props:Object.assign(Object.assign({},t.props),{children:this.formatNodeDFS(t.props.children)})}):t),n.length===1?n[0]:n}render(){const n=Object.assign({},this.props);return delete n.rule,delete n.parser,n.children=this.formatNodeDFS(this.props.children),a.createElement(D,Object.assign({component:"span"},n))}}_.propTypes={rule:e.oneOf(f.RULE),precision:e.number,truncate:e.oneOf(f.TRUNCATE),parser:e.func,copyable:e.oneOfType([e.object,e.bool]),delete:e.bool,disabled:e.bool,icon:e.oneOfType([e.node,e.string]),mark:e.bool,underline:e.bool,link:e.oneOfType([e.object,e.bool]),strong:e.bool,type:e.oneOf(f.TYPE),size:e.oneOf(f.SIZE),style:e.object,className:e.string,code:e.bool,component:e.string};_.defaultProps={rule:"text",precision:0,truncate:"round",parser:void 0,copyable:!1,delete:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};const I=K;I.Text=J;I.Title=L;I.Paragraph=R;I.Numeral=_;const ue=I,Y={PREFIX:`${q}-breadcrumb`},me={MORE_TYPE:["default","popover"]};class fe extends z{constructor(n){super(Object.assign({},n))}handleClick(n,t){this._adapter.notifyClick(n,t)}handleExpand(n){this._adapter.expandCollapsed(n)}handleExpandEnterPress(n){Q(n)&&this.handleExpand(n)}genRoutes(n){return n.map(t=>{if(typeof t!="object")return{name:t,_origin:{name:t}};let r={};return r._origin=t,Object.assign(Object.assign({},r),t)})}}class be extends z{constructor(n){super(Object.assign({},n))}handleClick(n,t){this._adapter.notifyClick(n,t),this._adapter.notifyParent(n,t)}}const ge=a.createContext({}),F=ge,b=Y.PREFIX;class C extends W{get adapter(){var n=this;return Object.assign(Object.assign({},super.adapter),{notifyClick:function(){n.props.onClick(...arguments)},notifyParent:function(){n.context.onClick(...arguments)}})}constructor(n){super(n),this.renderIcon=()=>{const t=this.props.icon,{compact:r}=this.context,o=r?"small":"default",c=`${b}-item-icon`;return a.isValidElement(t)?a.cloneElement(t,{className:c,size:o}):t},this.getTooltipOpt=()=>{const{showTooltip:t}=this.context;if(!t)return{width:150,ellipsisPos:"end"};const r={width:150,ellipsisPos:"end",opts:{autoAdjustOverflow:!0,position:"top"}};return typeof t=="object"?ee(r,t):r},this.getItemInfo=()=>{let t={};const{route:r,children:o,href:c}=this.props,l=!te(c)&&!ne(c);return r?t=r:(t.name=o,l&&(t.href=c)),t},this.renderBreadItem=()=>{const{children:t}=this.props,{compact:r}=this.context,o=this.getTooltipOpt(),c=this.renderIcon();if(t&&typeof t=="string"){const{opts:l,ellipsisPos:i,width:p}=o;return a.createElement(m.Fragment,null,c,a.createElement("span",{className:`${b}-item-title`},a.createElement(ue.Text,{ellipsis:{showTooltip:l?{opts:l}:!1,pos:i},style:{maxWidth:p},size:r?"small":"normal"},t)))}return a.createElement(m.Fragment,null,c,t?a.createElement("span",{className:`${b}-item-title ${b}-item-title-inline`},t):null)},this.renderItem=()=>{const{href:t,active:r,noLink:o}=this.props,c=t!==null&&typeof t<"u",l=w({[`${b}-item`]:!0,[`${b}-item-active`]:r,[`${b}-item-link`]:!o}),i=this.renderBreadItem(),p=r||!c?"span":"a",d=this.getItemInfo();return a.createElement(p,{className:l,onClick:h=>this.foundation.handleClick(d,h),href:t},i)},this.foundation=new be(this.adapter)}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const{active:n,shouldRenderSeparator:t}=this.props,r=n?{"aria-current":"page"}:{},o=this.renderItem(),c=n?null:this.props.separator||a.createElement("span",{className:`${b}-separator`},this.context.separator),l=w({[`${b}-item-wrap`]:!0});return a.createElement("span",Object.assign({className:l},r,this.getDataAttr(this.props)),o,t&&c)}}C.isBreadcrumbItem=!0;C.contextType=F;C.propTypes={onClick:e.func,route:e.oneOfType([e.object,e.string]),name:e.string,children:e.node,active:e.bool,shouldRenderSeparator:e.bool,icon:e.oneOfType([e.string,e.node]),separator:e.node,noLink:e.bool};C.defaultProps={onClick:H,shouldRenderSeparator:!0};const g=Y.PREFIX;class P extends W{constructor(n){super(n),this.handleCollapse=(t,r)=>{const{maxItemCount:o,renderMore:c,moreType:l}=this.props,i=B(c),p=t.slice(1,r-o+1),d=a.createElement("span",{className:`${g}-collapse`,key:`more-${r}`},a.createElement("span",{className:`${g}-item-wrap`},a.createElement("span",{role:"button",tabIndex:0,"aria-label":"Expand breadcrumb items",className:`${g}-item ${g}-item-more`,onClick:h=>this.foundation.handleExpand(h),onKeyPress:h=>this.foundation.handleExpandEnterPress(h)},i&&c(p),!i&&l==="default"&&a.createElement(A,null),!i&&l==="popover"&&this.renderPopoverMore(p)),a.createElement("span",{className:`${g}-separator`,"x-semi-prop":"separator"},this.props.separator)));return t.splice(1,r-o,d),t},this.renderRouteItems=(t,r,o)=>{const{renderItem:c,renderMore:l,maxItemCount:i}=this.props,p=t.length-i,d=B(l);return t.map((u,k)=>{const N=u._origin.key||`item-${u.name||u.path}-${k}`,E=k>0&&k<=p;return a.createElement(C,Object.assign({},u,{key:N,active:k===t.length-1,route:u._origin,shouldRenderSeparator:!(r&&(d||o)&&E)}),c?c(u._origin):u.name)})},this.renderList=()=>{const{routes:t,children:r,autoCollapse:o,maxItemCount:c,renderMore:l,moreType:i}=this.props,{isCollapsed:p}=this.state,d=t&&t.length>0,h=d?this.foundation.genRoutes(t):a.Children.toArray(r);let u;const k=h.length,N=k-c,E=h&&o&&k>c&&p,G=B(l),S=i==="popover";return d?u=this.renderRouteItems(h,E,S):u=h.map((O,j)=>{const V=j>0&&j<=N;return O&&(re(O.type&&!O.type.isBreadcrumbItem,"[Semi Breadcrumb]: Only accepts Breadcrumb.Item as its children"),a.cloneElement(O,{key:`${j}-item`,active:j===h.length-1,shouldRenderSeparator:!(E&&(G||S)&&V)}))}),E?this.handleCollapse(u,h.length):u},this.onClick=(t,r)=>{this.foundation.handleClick(t,r)},this.foundation=new fe(this.adapter),this.state={isCollapsed:!0},this.onClick=this.onClick.bind(this)}get adapter(){var n=this;return Object.assign(Object.assign({},super.adapter),{notifyClick:function(){n.props.onClick(...arguments)},expandCollapsed:()=>this.setState({isCollapsed:!1})})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}renderPopoverMore(n){const{separator:t}=this.props,r=a.createElement(a.Fragment,null,n.map((o,c)=>a.createElement(a.Fragment,{key:`restItem-${c}`},o,c!==n.length-1&&a.createElement("span",{className:`${g}-restItem`},t))));return a.createElement(se,{content:r,style:{padding:12},showArrow:!0},a.createElement(A,null))}render(){const n=this.renderList(),{compact:t,className:r,style:o,separator:c,showTooltip:l}=this.props,i=w(r,{[`${g}-wrapper`]:!0,[`${g}-wrapper-compact`]:t,[`${g}-wrapper-loose`]:!t});return a.createElement(F.Provider,{value:{onClick:this.onClick,showTooltip:l,compact:t,separator:c}},a.createElement("nav",Object.assign({"aria-label":this.props["aria-label"],className:i,style:o},this.getDataAttr(this.props)),n))}}P.contextType=F;P.Item=C;P.propTypes={routes:e.array,onClick:e.func,separator:e.node,compact:e.bool,children:e.node,style:e.object,renderItem:e.func,showTooltip:e.oneOfType([e.shape({width:e.oneOfType([e.string,e.number]),ellipsisPos:e.oneOf(["end","middle"]),opts:e.object}),e.bool]),className:e.string,autoCollapse:e.bool,maxItemCount:e.number,renderMore:e.func,moreType:e.oneOf(me.MORE_TYPE),"aria-label":e.string};P.defaultProps={routes:[],onClick:H,renderItem:void 0,separator:"/",compact:!0,showTooltip:{width:150,ellipsisPos:"end"},autoCollapse:!0,moreType:"default",maxItemCount:4,"aria-label":"Breadcrumb"};const M=P,ye=Z("home",!1,function(s){return a.createElement("svg",{width:s.size,height:s.size,viewBox:"0 0 48 48",fill:"none"},a.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:s.colors[1],stroke:s.colors[0],strokeWidth:s.strokeWidth,strokeLinecap:s.strokeLinecap,strokeLinejoin:s.strokeLinejoin}),a.createElement("path",{d:"M19 29V42H29V29H19Z",fill:s.colors[3],stroke:s.colors[2],strokeWidth:s.strokeWidth,strokeLinejoin:s.strokeLinejoin}),a.createElement("path",{d:"M9 42H39",stroke:s.colors[0],strokeWidth:s.strokeWidth,strokeLinecap:s.strokeLinecap}))}),ke=Z("left-one",!0,function(s){return a.createElement("svg",{width:s.size,height:s.size,viewBox:"0 0 48 48",fill:"none"},a.createElement("path",{d:"M30 36L18 24L30 12V36Z",fill:s.colors[1],stroke:s.colors[0],strokeWidth:s.strokeWidth,strokeLinejoin:s.strokeLinejoin}))});function Oe(){const[s,n]=m.useState([]),[t,r]=m.useState([]);m.useEffect(()=>n(T),[]);const o=i=>{i.children&&i.children.length&&(r(p=>[...p,i]),n(i.children))},c=()=>{r(i=>{var p;if(i.length){const d=i.slice(0,-1);return i.length<=1?n(T):n(((p=d==null?void 0:d.at(-1))==null?void 0:p.children)||T),d}else return i})},l=i=>{var p;if(i==null)n(T),r([]);else{const d=t.slice(0,i+1);r(d),n(((p=d==null?void 0:d.at(-1))==null?void 0:p.children)||T)}};return x(oe,{children:[!!t.length&&x("div",{className:"center group fixed left-10 top-2/4 z-10 h-40 w-40 -translate-y-2/4 cursor-pointer rounded-full border border-solid border-transparent bg-slate-300 text-20 text-white hover:w-auto hover:bg-slate-400 dark:border-borderDark dark:bg-bgDark-2",onClick:c,children:[y(ke,{theme:"filled"}),y("span",{className:"hidden overflow-hidden truncate pr-10 group-hover:block",children:"返回"})]}),y("main",{className:"grid-rows-auto beautyScroll grid flex-1 gap-20 overflow-y-auto p-20 pb-20",style:{gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gridAutoRows:"160px"},children:y(ie,{data:s,callback:o})}),x("div",{className:"flex h-30 items-center justify-between border-t border-t-transparent bg-white px-10 dark:border-t-borderDark dark:bg-bgDark-2",style:{borderTopStyle:"solid"},children:[x(M,{compact:!1,children:[y(M.Item,{onClick:()=>l(),icon:y("span",{children:y(ye,{theme:"outline"})})}),t.map((i,p)=>y(M.Item,{onClick:()=>l(p),children:i.label},i.label))]}),x("span",{className:"text-12 text-slate-600 dark:text-white",children:["当前版本：",ae.version]})]})]})}export{Oe as default};
